<?xml version="1.0" encoding="UTF-8"?>
<project name="Build All" default="build-all" basedir="..">

	<property file="${basedir}/ant/.toolkit-properties" />
	
	<condition property="isLinux">
	  <os family="unix" />
	</condition>
	
	<condition property="isWin">
	    <os family="windows" />		
	</condition>	
	
	<target name="linux" if="isLinux">
	    <echo message="OS is Linux" />
		<property name="FLEX_HOME" value="${FLEX_HOME_LINUX}"/>
		<property name="GIT_HOME" value="${GIT_HOME_LINUX}"/>
		<property name="GIT_CONFIG" value="${git.config.linux}"/>		
	</target>
	
	<target name="win" if="isWin">
	    <echo message="OS is Windows" />
		<property name="FLEX_HOME" value="${FLEX_HOME_PC}"/>
		<property name="GIT_HOME" value="${GIT_HOME_PC}"/>
		<property name="GIT_CONFIG" value="${git.config.pc}"/>		
	</target>		
	
	<target name="build-all" depends="win,linux">
		
		<!-- Compile Toolkit SWC -->
		<echo message="Compile Toolkit SWC ${version}${build.int}" />
		<subant buildpath="." genericantfile="${basedir}/ant/flex/build.xml">
			<property name="swc.file" value="${basedir}/swc/wezside.toolkit.${version}${build.int}.swc"/>
		</subant>
		
		
		<!--
		<subant genericantfile="${basedir}/ant/build-toolkit.xml" buildpath="." />
		<subant genericantfile="${basedir}/../Toolkit-Components/ant/build-toolkit-comps.xml" buildpath="${basedir}/../Toolkit-Components/"  />
		<subant genericantfile="${basedir}/../Modulo/ant/build.xml" buildpath="${basedir}/../Modulo/" />
		
		<subant genericantfile="${basedir}/ant/build-git.xml"  buildpath="." />
		<subant genericantfile="${basedir}/../Toolkit-Components/ant/build-git.xml"  buildpath="${basedir}/../Toolkit-Components/" />
		<subant genericantfile="${basedir}/../Modulo/ant/build-git.xml"  buildpath="${basedir}/../Modulo/" />		
		-->
	</target>
	
</project>